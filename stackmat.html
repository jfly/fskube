<html>
<head>

<meta name="viewport" content="width=device-width" />

<link href='lcd.css' rel='stylesheet' type='text/css'>
<style>
   body {
       background: black;
   }
   .container {
       top: 0;
       bottom: 0;
       left: 0;
       right: 0;
       position: absolute;
       text-align: center;
       color: red;
       font-family: lcd;
   }
</style>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="https://cdn.rawgit.com/davatron5000/FitText.js/master/jquery.fittext.js"></script>
<script src="release/stackmat.js"></script>
 
<script>

function msToClock(ms) {
    var div = Math.floor(ms/1000);
    var min = Math.floor(div/60);
    var sec = div%60;
    var mils = Math.floor((ms%1000)/10);
    return digitify(min) + ":" + digitify(sec) + "." + digitify(mils);
}

function digitify(n) {
    n %= 100;
    return n > 9 ? "" + n: "0" + n;
}

$(document).ready(function() {
    var timeArea = document.getElementById("timeArea");

    Stackmat.initialize("release/fskube.js");
    Stackmat.onstackmatstate = function(state) {
        if(state.on) {
            $("#counter").text(msToClock(state.millis));
        } else {
            $("#counter").text("");
        }
    };

    // This doesn't deal well with very long and thin viewports (we'll get a
    // vertical scrollbar), but oh well.
    $("#counter").fitText(0.6);
});

</script>

</head>
 
<body>
<div class="container">
    <div id="counter"></div>
</div>
</body>

</html>
